{% extends 'base_shopkeeper.html.twig' %}
{% block stylesheets %}
	{{parent()}}
{% endblock %}
{% block bootstrap %}
	{{parent()}}
{% endblock %}
{% block body %}
	<div class="col-12 col-lg-9 col-xl-8">
		<div class="card shadow-2-strong card-registration" style="border-radius: 40px;">
			<div class="card-body p-3 p-md-5">
				<h3 class="mb-4 pb-2 pb-md-0 mb-md-5">Add book</h3>
				{{ form_start(form) }}
				<div class="row">
					<div class="col-md-4 mb-4">

						<div class="form-outline">
							{{ form_row(form.title) }}
						</div>

					</div>
					<div class="col-md-4 mb-4">

						<div class="form-outline">
							{{ form_row(form.isbn_no) }}
						</div>

					</div>
					<div class="col-md-4 mb-4">

						<div class="form-outline">
							{{ form_row(form.publisher) }}
						</div>

					</div>
				</div>

				<div class="row">

					<div class="col-md-4 mb-4">
						<div class="form-outline">
							{{ form_row(form.edition) }}
						</div>
					</div>
					<div class="col-md-4 mb-4">
						<div class="form-outline">
							{{ form_row(form.language) }}
						</div>
					</div>
					<div class="col-md-4 mb-4">
						<div class="form-outline">
							<label for="genre_select">Genre
							</label>
							<select name="genre[]" class="form-control form-control-lg" id="sel1" multiselect-search="true" multiselect-select-all="false" multiselect-max-items="3" multiselect-hide-x="false" multiple>

								{% for dat in sel %}
									{% set roleArr = dat %}
									<option value="{{roleArr}}" selected class="abc">{{roleArr}}</option>
								{% endfor %}

								{% for data in value %}

									<option value="{{data.name}}">{{data.name}}</option>

								{% endfor %}


							</select>
						</div>
					</div>

				</div>
				<div class="row">

					<div class="col-md-4 mb-4">
						<div class="form-outline">
							{{ form_row(form.page_no) }}
						</div>
					</div>
					<div class="col-md-4 mb-4">
						<div class="form-outline">
							{{ form_row(form.price) }}
						</div>
					</div>
					<div class="col-md-4 mb-4">
						{{ form_row(form.binding) }}

					</div>

				</div>
				<div class="row">

					<div class="col-md-6 mb-4">
						{{ form_row(form.author) }}
					</div>
					<div class="col-md-6 mb-4">
						{{ form_row(form.available_book) }}
					</div>
				</div>
				<div class="row">
					<div class="col-md-7 mb-4">
						{{ form_row(form.file) }}
					</div>
					<div class="col-md-5 py-4 mb-4">
						<input class="btn btn-primary btn-lg" type="submit" value="Submit"/>
					</div>
				</div>
			</div>

			{{ form_rest(form) }}
			{{ form_end(form) }}
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	{{parent()}}
	<script src="/js/backend/dropdown.js"></script>
	<script>
		fetch("/").then(d => d.json()).then(d => {
sel1.innerHTML = d.map(t => '<option value="' + t.value + '">' + t.text + '</option>');
sel1.loadOptions();
})
	</script>

{% endblock %}
