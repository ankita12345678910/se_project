{% extends 'base.html.twig' %}
{% block stylesheets %}
{{parent()}}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="css/backend/list.css">
<style>
	#scrollUp {
		bottom: 20px;
		right: 20px;
		background-image: url('img/icons/top.png');
		height: 38px;
		width: 38px;
	}

	.carousel-item {
		display: block;
		margin-right: 0;
		flex: 0 0 calc(100%/8);
	}
</style>
{% endblock %}

{% block title %}Hello HomeController!
{% endblock %}

{% block body %}

<body id="bookDetails"></body>

{# <div id="carouselExampleDark" class="carousel carousel-white slide" style="padding-top: 68px;"
	data-bs-ride="carousel">
	<div class="carousel-indicators">
		<button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active"
			aria-current="true" aria-label="Slide 1"></button>
		<button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
		<button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
	</div>
	<div class="carousel-inner">
		<div class="carousel-item active" data-bs-interval="5000">
			<img src="https://source.unsplash.com/1700x500/?anime,cartoon book" class="d-block w-100" alt="...">
			<div class="carousel-caption d-none d-md-block"></div>
		</div>
		<div class="carousel-item" data-bs-interval="2000">
			<img src="https://source.unsplash.com/1700x500/?story book,articles," class="d-block w-100" alt="...">
			<div class="carousel-caption d-none d-md-block"> #}
				{# <h5>Welcome to The BookWorm</h5>
				<p>Some representative placeholder content for the second slide.</p>
				<div class="btn btn-warning">Latest Books</div>
				<div class="btn btn-success">Novels</div>
				<div class="btn btn-danger">Top 5 books</div> #}

				{#
			</div>
		</div>
		<div class="carousel-item">
			<img src="https://source.unsplash.com/1700x500/?book,comic" class="d-block w-100" alt="...">
			<div class="carousel-caption d-none d-md-block"> #}
				{# <h5>Welcome to The BookWorm</h5>
				<p>Some representative placeholder content for the third slide.</p>
				<div class="btn btn-warning">Latest Books</div>
				<div class="btn btn-success">Novels</div>
				<div class="btn btn-danger">Top 5 books</div> #}
				{#
			</div>
		</div>
	</div>
	<button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
		<span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Previous</span>
	</button>
	<button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Next</span>
	</button>
</div> #}


<div class="row row-cols-1 row-cols-lg-4  g-5 py-5">
	<div class="row row-cols-1 row-cols-lg-4  g-5 py-5">
	</div>
</div>

<div id="carouselExampleControls" class="carousel" data-ride="carousel">
	<div class="container" style="background-color: silver">
		<div class="carousel-inner">
			{% for data in book %}
			<div class="col">
				<div class="carousel-item apple active">
					<div class="card h-100 overflow-hidden text-bg-light rounded-3 shadow-lg"
						style=" width: 192px; height: 10rem;">
						<img src="{{path('image_show',{path:'books',file: data.file})}}"
							style=" width:13rem; height: 11rem">
						<div class="card-body text-center">
							<p class="card-text">{{data.title}}</p>
							<small>
								<s>$399</s>
							</small>
							<p class="card-text">Price:{{data.price}}</p>
							<a href="{{path('web_book_details',{id: data.id})}}" class="book_details btn btn-warning"
								title="book details" data-toggle="tooltip">Explore
							</a>
						</div>
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
	<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
		<span class="carousel-control-prev-icon avb" aria-hidden="true"  style=" width: 7vh;
		height: 7vh;background-color: darkslategrey; border-radius: 50%;transform: translateY(-53%);"></span>
		<span class="visually-hidden">Previous</span>
	</button>
	<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
		<span class="carousel-control-next-icon vbn" aria-hidden="true" style=" width: 7vh;
		height: 7vh;background-color: darkslategrey; border-radius: 50%;transform: translateY(-53%);"></span>
		<span class="visually-hidden">Next</span>
	</button>
</div>


<div class="container px-4 py-5" id="custom-cards">
	<h2 class="pb-2 border-bottom">English books</h2>
	<div class="row row-cols-1 row-cols-lg-4  g-5 py-5">
		{% for data in book %}
		<div class="col">
			<div class="card card-cover h-100 overflow-hidden text-bg-light rounded-5 shadow-lg"
				style=" width: 18rem; height: 10rem;">
				<div class="d-flex flex-column h-50 p-5 pb-2 text-shadow-1">
					<img src="{{path('image_show',{path:'books',file: data.file})}}"
						style=" width:13rem; height: 11rem">
					<div class="card-body text-center">
						<p class="card-text">{{data.title}}</p>
						<small>
							<s>$399</s>
						</small>
						<p class="card-text">Price:{{data.price}}</p>
						<a href="{{path('web_book_details',{id: data.id})}}" class="book_details btn btn-warning"
							title="book details" data-toggle="tooltip" userid="{{data.id}}">Explore
						</a>
						<!-- <button type="submit" class="btn btn-warning" name="details">Details</button> -->
						<!-- <input type="hidden" name="book_details" value="{data.id}"> -->
					</div>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>
</div>
<p class="pb-2 border-bottom"></p>
<div class="jumbotron p-3 p-md-5 text-white shadow-lg rounded" style="background-color: darkslategray;">
	<div class="col-md-6 px-0">
		<h1 class="display-4 font-italic">Title of a longer featured blog post</h1>
		<p class="lead my-3">Multiple lines of text that form the led, informing new readers quickly and efficiently
			about what's most interesting in this post's contents.</p>
		<p class="lead mb-0">
			<a href="#" class="text-white font-weight-bold">Continue reading...</a>
		</p>
	</div>
</div>
{% endblock %}
{% block javascripts %}
{{parent()}}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
	integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
	crossorigin="anonymous"></script>
<script src="/js/backend/jquery.scrollUp.min.js"></script>
<script>
	$(function () {
		$.scrollUp({ scrollDistance: 100, scrollSpeed: 500, scrollImg: true });
	});
</script>
<script>
	$(document).ready(function () {
		const multipleItemCarousel = document.querySelector('#carouselExampleControls');
		if (window.matchMedia("(min-width:576px)").matches) {
			const carousel = new bootstrap.Carousel(multipleItemCarousel, {
				interval: false
			})
			var carouselWidth = $('.carousel-inner')[0].scrollWidth;
			var carWidth = $('.carousel-item').width();
			var scrollPosition = 0;

			$('.carousel-control-next').on('click', function () {

				if (scrollPosition < (carouselWidth - (carWidth * 9))) {
					scrollPosition = scrollPosition + carWidth;
					$('.carousel-inner').animate({ scrollLeft: scrollPosition }, 700);
				}
				else {
					$(".carousel-inner").load(location.href + " .carousel-inner");
					scrollPosition = 0;
				}

			});

			$('.carousel-control-prev').on('click', function () {

				if (scrollPosition > 0) {

					scrollPosition = scrollPosition - carWidth;
					console.log(scrollPosition);

					$('.carousel-inner').animate({ scrollLeft: scrollPosition }, 700);
				}
				else {
					$(".carousel-inner").load(location.href + " .carousel-inner");
				}
			});
		}
	})
</script>
<!-- <script>
				jQuery('body').on('click', ".book_details", function () {
			
					var id = jQuery(this).attr('userId');
					$.ajax({
						
						url: "{{ path('web_ajax_book_details')}}",
						type: "GET",
						data: {
							id
						},
						dataType: 'json',
						success: function (returns) {
							jQuery('#bookDetails').html(returns);
						},
						error: function (xhr) { }
					});
			
				});
			</script> -->
{% endblock %}